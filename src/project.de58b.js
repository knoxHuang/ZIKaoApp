window.__require=function t(e,n,s){function i(c,o){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!o&&h)return h(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}}var g=n[c]={exports:{}};e[c][0].call(g.exports,function(t){return i(e[c][1][t]||t)},g,g.exports,t,e,n,s)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<s.length;c++)i(s[c]);return i}({Main:[function(t,e,n){"use strict";cc._RF.push(e,"2be9cQW949GdrVsD5XjD7mc","Main");var s=t("SingleMgr");cc.Class({extends:cc.Component,properties:{singleMgr:s,topic:{default:null,type:cc.JsonAsset},title:cc.Label,autoToggle:cc.Toggle,checkToggle:cc.Toggle,answersPref:cc.Prefab,answersView:cc.ScrollView,btn_Wrongs:cc.Node,label_wrongs:cc.Node,_currentIdx:0,currentIdx:{get:function(){return this._currentIdx},set:function(t){this.singleMgr.changeAnswer(this.currentIdx,!1),this._currentIdx=t,this._currentIdx>=this._datas.length?this._currentIdx=this._datas.length-1:t<=0&&(this._currentIdx=0),this.singleMgr.updatePage(this._currentIdx,this.onAutoNext.bind(this)),this.title.string="\u5f53\u524d "+this._currentIdx+" / "+this._totalNum+" \u9898",this._immediately?this._mainCamera.position=cc.v2(this._currentIdx*this.node.width,0):this._mainCamera.runAction(cc.moveTo(.2,this._currentIdx*this.node.width,0))},type:cc.Integer},_answerIcons:[],_wrongQuestions:""},_initOptions:function(){var t=cc.sys.localStorage.getItem("auto");null!==t&&(this.autoToggle.isChecked="true"===t);var e=cc.sys.localStorage.getItem("check");null!==e&&(this.checkToggle.isChecked="true"===e)},_initData:function(t){if(this._datas=[],t=parseInt(t),this.btn_Wrongs.active=6===t,this.label_wrongs.active=!1,6===t){for(var e=cc.sys.localStorage.getItem("wrongs").split(","),n=0;n<e.length;++n)if(e[n]){var s=parseInt(e[n]),i=this.topic.json.content[s];this._datas.push(i)}this.label_wrongs.active=0===this._datas.length}else{var r=0,c=91;2===t?(r=91,c=191):3===t?(r=191,c=291):4===t?(r=291,c=391):5===t&&(r=391,c=491);for(var o=r;o<c;++o){var a=this.topic.json.content[o];this._datas.push(a)}}this._totalNum=this._datas.length-1,this._immediately=!1,this._initAnswers()},_initAnswers:function(t){this.answersView.content.removeAllChildren();for(var e=0,n=this._datas.length;e<n;++e){var s=this._datas[e],i=cc.instantiate(this.answersPref);i.__idx=e,i.parent=this.answersView.content,i.getComponentInChildren(cc.Label).string=e,this._answerIcons[e]={node:i,answer:s.answer}}},_updateAnswers:function(){for(var t=0;t<this._totalNum;++t){this._answerIcons[t].node.off("click",this.onAnswerViewGoToTopic.bind(this))}for(var e=0;e<this._totalNum;++e){var n=this._answerIcons[e],s=this.singleMgr.getAnswerByIndex(e),i=n.node.getChildByName("Background");n.node.on("click",this.onAnswerViewGoToTopic.bind(this)),s?n.answer===s?i.color=cc.color(0,222,255):i.color=cc.Color.RED:i.color=cc.Color.WHITE}},onBack:function(){this._mainPanel.x=0,this._mainCamera.position=cc.Vec2.ZERO},onSelectData:function(t,e){this._mainPanel.x=1e3,this._initData(e),this._initOptions(),this.singleMgr.init(this,this._datas,this._answerIcons),this.currentIdx=0},start:function(){this._mainPanel=cc.find("Canvas/New Panel"),this._mainPanel.x=0,this._mainCamera=cc.find("Canvas/Main Camera")},onSetAutoState:function(){cc.sys.localStorage.setItem("auto",this.autoToggle.isChecked)},onSetChackState:function(){cc.sys.localStorage.setItem("check",this.checkToggle.isChecked)},onAutoNext:function(t,e){(e||this.addWrongs(t),!this.checkToggle.isChecked||e)?(this.singleMgr.changeAnswer(this.currentIdx,!1),this.autoToggle.isChecked&&this.currentIdx++):this.singleMgr.changeAnswer(this.currentIdx,!0)},onAnswerViewGoToTopic:function(t){var e=t.target.parent.__idx;this.currentIdx=e,this.answersView.node.active=!1},onChangeAnswer:function(){this.singleMgr.changeAnswer(this.currentIdx)},onComplete:function(){this._updateAnswers(),this._immediately=!0,this.answersView.node.active=!0,this.answersView.node.position=cc.Vec2.ZERO},onHideAnswersView:function(){this._immediately=!1,this.answersView.node.active=!1},previous:function(){this.currentIdx--},next:function(){this.currentIdx++},removeWrongs:function(){this._wrongQuestions="",cc.sys.localStorage.setItem("wrongs",this._wrongQuestions)},addWrongs:function(t){-1===this._wrongQuestions.indexOf(t)&&(this._wrongQuestions+=t+",",cc.sys.localStorage.setItem("wrongs",this._wrongQuestions))}}),cc._RF.pop()},{SingleMgr:"SingleMgr"}],SingleMgr:[function(t,e,n){"use strict";cc._RF.push(e,"e86d6/2c8BGNZ8u1q1jN/0G","SingleMgr");var s=t("Single");cc.Class({extends:cc.Component,properties:{singlePref:cc.Prefab,_singles:[],_curAnswers:[]},_createPage:function(t){var e=this._datas[t];if(e){var n=cc.instantiate(this.singlePref);n.position=cc.v2(t*this.node.width,0),n.parent=this.node;var i=n.getComponent(s);i.init(t,e,this._onClick.bind(this)),this._singles[t]=i,this._curAnswers[t]="NONE"}},init:function(t,e,n){this._main=t,this.node.removeAllChildren(),this._singles=[],this._curAnswers=[],this._datas=e,this._answers=n},updatePage:function(t,e){this._singles[t]?this._singles[t].changeAnswer(!1):(this._createPage(t),this._onAutoNext=e)},getAnswerByIndex:function(t){return this._curAnswers[t]},changeAnswer:function(t,e){var n=this._singles[t];n&&n.changeAnswer(e)},_onClick:function(t){if(t.isChecked){this._curAnswers[t.idx]=t.answer;var e=this._answers[t.idx].answer===t.answer;this._onAutoNext&&this._onAutoNext(t.tag,e)}else this.changeAnswer(t.idx,!1)}}),cc._RF.pop()},{Single:"Single"}],Single:[function(t,e,n){"use strict";cc._RF.push(e,"5e5ddq6Q7lFwL0TXY9qkfzM","Single"),cc.Class({extends:cc.Component,properties:{answer:cc.Node,content:cc.Label,options:cc.Label,_idx:-1,_dataTag:-1},_setAnswer:function(t){switch(t){case"A":this.answer.y=105;break;case"B":this.answer.y=35;break;case"C":this.answer.y=-35;break;case"D":this.answer.y=-105}},init:function(t,e,n){this._idx=t,this._dataTag=e.answerNum,this.content.string=e.content,this.options.string=e.options,this._setAnswer(e.answer),this._clickEvent=n},changeAnswer:function(t){this.answer.active=void 0===t?!this.answer.active:t},onClick:function(t,e){var n={idx:this._idx,tag:this._dataTag,answer:e,isChecked:t.isChecked};this._clickEvent&&this._clickEvent(n)}}),cc._RF.pop()},{}]},{},["Main","Single","SingleMgr"]);