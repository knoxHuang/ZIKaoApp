window.__require=function n(t,i,e){function s(c,o){if(!i[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var h="function"==typeof __require&&__require;if(!o&&h)return h(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}}var d=i[c]={exports:{}};t[c][0].call(d.exports,function(n){return s(t[c][1][n]||n)},d,d.exports,n,t,i,e)}return i[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<e.length;c++)s(e[c]);return s}({Main:[function(n,t,i){"use strict";cc._RF.push(t,"2be9cQW949GdrVsD5XjD7mc","Main");var e=n("SingleMgr");cc.Class({extends:cc.Component,properties:{singleMgr:e,topic:{default:null,type:cc.JsonAsset},title:cc.Label,answersPref:cc.Prefab,answersView:cc.ScrollView,_currentIdx:0,currentIdx:{get:function(){return this._currentIdx},set:function(n){this._hiddAnswer(),this._currentIdx=n,this._currentIdx>=this._datas.length?this._currentIdx=this._datas.length:n<=0&&(this._currentIdx=0),this.singleMgr.updatePage(n,this._datas[n],this.onAutoNext.bind(this)),this.title.string="\u5f53\u524d "+(n+1)+" \u9898",this._immediately?this._mainCamera.position=cc.v2(n*this.node.width,0):this._mainCamera.runAction(cc.moveTo(.1,n*this.node.width,0))},type:cc.Integer},_answerIcons:[]},_initAnswerIcons:function(n){for(var t=0,i=this._datas.length;t<i;++t){var e=this._datas[t],s=cc.instantiate(this.answersPref);s.__idx=t,s.parent=this.answersView.content,s.getComponentInChildren(cc.Label).string=t+1,this._answerIcons[t]={node:s,answer:e.answer}}},_updateAnswerIcon:function(){for(var n=0;n<this._totalNum;++n){this._answerIcons[n].node.off("click",this.onGoTo.bind(this))}for(var t=0;t<this._totalNum;++t){var i=this._answerIcons[t],e=this.singleMgr._answers[t],s=i.node.getChildByName("Background");e?(i.answer===e?s.color=cc.color(0,222,255):s.color=cc.Color.RED,i.node.on("click",this.onGoTo.bind(this))):s.color=cc.Color.WHITE}},_hiddAnswer:function(){this.singleMgr.hiddAnswer(this.currentIdx)},start:function(){this._mainCamera=cc.find("Canvas/Main Camera"),this._datas=this.topic.json.content,this._totalNum=this._datas.length,this._initAnswerIcons(),this._immediately=!1,this.currentIdx=0},onAutoNext:function(){this.currentIdx++},onGoTo:function(n){var t=n.target.parent.__idx;this.currentIdx=t,this.answersView.node.active=!1},onChangeAnswer:function(){this.singleMgr.changeAnswer(this.currentIdx)},onComplete:function(){this._updateAnswerIcon(),this._immediately=!0,this.answersView.node.active=!0,this.answersView.node.position=cc.Vec2.ZERO},onHideAnswersView:function(){this._immediately=!1,this.answersView.node.active=!1},previous:function(){this.currentIdx--},next:function(){this.currentIdx++}}),cc._RF.pop()},{SingleMgr:"SingleMgr"}],SingleMgr:[function(n,t,i){"use strict";cc._RF.push(t,"e86d6/2c8BGNZ8u1q1jN/0G","SingleMgr");var e=n("Single");cc.Class({extends:cc.Component,properties:{singlePref:cc.Prefab,_datas:null,_singles:[],_answers:[]},_createPage:function(n,t){var i=cc.instantiate(this.singlePref);i.position=cc.v2(n*this.node.width,0),i.parent=this.node;var s=i.getComponent(e);s.init(n,t,this._onClick.bind(this)),this._singles[n]=s,this._answers[n]="NONE"},updatePage:function(n,t,i){this._singles[n]?this._singles[n].hiddAnswer():(this._createPage(n,t),this.clickCb=i)},hiddAnswer:function(n){var t=this._singles[n];t&&t.hiddAnswer()},changeAnswer:function(n){var t=this._singles[n];t&&t.changeAnswer()},_onClick:function(n){this._answers[n.idx]=n.answer,this.clickCb&&this.clickCb()}}),cc._RF.pop()},{Single:"Single"}],Single:[function(n,t,i){"use strict";cc._RF.push(t,"5e5ddq6Q7lFwL0TXY9qkfzM","Single"),cc.Class({extends:cc.Component,properties:{answer:cc.Node,content:cc.Label,options:cc.Label,_idx:-1},_setAnswer:function(n){switch(n){case"A":this.answer.y=105;break;case"B":this.answer.y=35;break;case"C":this.answer.y=-35;break;case"D":this.answer.y=-105}},init:function(n,t,i){this._idx=n,this.content.string=t.content,this.options.string=t.options,this._setAnswer(t.answer),this._clickEvent=i},hiddAnswer:function(){this.answer.active=!1},changeAnswer:function(){this.answer.active=!this.answer.active},onClick:function(n,t){var i={idx:this._idx,answer:t};this._clickEvent&&this._clickEvent(i)}}),cc._RF.pop()},{}]},{},["Main","Single","SingleMgr"]);